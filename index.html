<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link href="css/reset.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
</head>
<body>
    <div class="bgImg">
        <div class="keys">
            <div data-key="81" class="key">
                <kbd>Q</kbd>
                <span class="sound"></span>
            </div>
            <div data-key="87" class="key">
                <kbd>W</kbd>
                <span class="sound"></span>
            </div>
            <div data-key="69" class="key">
                <kbd>E</kbd>
                <span class="sound"></span>
            </div>
            <div data-key="65" class="key">
                <kbd>A</kbd>
                <span class="sound"></span>
            </div>
            <div data-key="83" class="key">
                <kbd>S</kbd>
                <span class="sound"></span>
            </div>
            <div data-key="68" class="key">
                <kbd>D</kbd>
                <span class="sound"></span>
            </div>
            <div data-key="90" class="key">
                <kbd>Z</kbd>
                <span class="sound"></span>
            </div>
            <div data-key="88" class="key">
                <kbd>X</kbd>
                <span class="sound"></span>
            </div>
            <div data-key="67" class="key">
                <kbd>C</kbd>
                <span class="sound"></span>
            </div>
        </div>






        <audio data-key="81" src="audio/Hi_I'm_mr_meeseeks_look_at_me.wav"></audio>
        <audio data-key="87" src="audio/e4fd8935c4.wav"></audio>
        <audio data-key="69" src="audio/Good_Job!.wav"></audio>
        <audio data-key="65" src="audio/I_don't_give_a_f__k_you_think.wav"></audio>
        <audio data-key="83" src="audio/I_like_what_you_got.wav"></audio>
        <audio data-key="68" src="audio/Keep_Summer_Safe.wav"></audio>
        <audio data-key="90" src="audio/Show_me_what_you_got!.wav"></audio>
        <audio data-key="88" src="audio/ohmygod.mp3"></audio>
        <audio data-key="67" src="audio/rick.wav"></audio>

        
    </div>





<script>
    function playSound(e) {
        const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`);
        const key = document.querySelector(`.key[data-key="${e.keyCode}"]`);
        if(!audio) return; //stop func at another key
        audio.currentTime = 0; //play sound to start
        audio.play();
        key.classList.add('playing');
    }
    function removeTransition(e) {
        if(e.propertyName !== 'background-color') return 
        this.classList.remove('playing');
    }
    const keys = document.querySelectorAll('.key');
    keys.forEach(key=>key.addEventListener('transitionend', removeTransition));
    window.addEventListener('keydown', playSound);


</script>

</body>
</html>